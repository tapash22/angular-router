<div
    class="w-full h-20 shadow-[var(--border)] flex justify-center items-center absolute top-0 z-50 bg-[var(--surface)]">
    <div class="w-full h-full p-2 m-0 flex justify-start align-middle">
        <!-- Left Section -->
        <div class="w-6/12 h-full flex justify-start items-center gap-3 px-2">
            <fa-icon
                [icon]="showSidebar ? iconBars : iconClose"
                class="text-3xl p-2 transition-all duration-300 hover:scale-110"
                style="color: var(--primary)"
                (click)="closeNavigattion()">
            </fa-icon>
            <h1 class="text-xl font-bold"
                style="color: var(--foreground)">{{pathWithSlashes}}</h1>
        </div>

        <!-- Right Section -->
        <div class="w-6/12 h-full flex justify-end items-center gap-5 px-2">
            <!-- Theme Toggle -->
            <app-theme-toggle />

            <!-- User Profile Dropdown -->
            <div class="w-auto h-full relative flex justify-end items-center">
                <button #trigger (click)="show = !show"
                    class="w-10 h-10 rounded-full transition-all duration-300 flex items-center justify-center"
                    [ngClass]="{
                    'bg-[var(--surface-dark)] text-[var(--primary-dark)] shadow-[var(--shadow-dark)]': themeService.isDarkMode(),
                    'bg-[var(--surface)] text-[var(--primary)] shadow-[var(--shadow)]': !themeService.isDarkMode()
                }">

                    <fa-icon [icon]="iconUserClick"
                        class="text-xl p-3"></fa-icon>
                </button>

                <!-- Dropdown Menu -->
                <div
                    class="absolute top-9 py-3 right-0 w-[250px] h-auto shadow-lg z-40 rounded-2xl border-t-4 border-b-4"
                    [ngClass]="{
                        'bg-[var(--surface-dark)] border-t-[var(--primary-dark)] border-b-[var(--accent-dark)] shadow-[var(--border-dark)]': themeService.isDarkMode(),
                        'bg-[var(--surface)] border-t-[var(--primary)] border-b-[var(--accent)] shadow-[var(--border)]': !themeService.isDarkMode()
                    }"
                    *ngIf="show">

                    <div class="block w-full h-full overflow-hidden">
                        <h2 class="text-xl font-bold tracking-wide py-3 px-4"
                            style="color: var(--foreground)">
                            {{userProfileData.name}}
                            <p
                                class="py-2 text-sm font-medium tracking-wide w-full px-1"
                                style="color: var(--muted)">
                                {{userProfileData.role}}
                            </p>
                        </h2>

                        <ul class="block w-full h-full border-t-[1px]"
                            style="border-color: var(--border)">
                            <!-- Profile -->
                            <li
                                class="w-full h-auto p-1 flex justify-start items-center cursor-pointer gap-2 border-b-[1px] transition-all duration-200"
                                style="border-color: var(--border); color: var(--foreground); background: linear-gradient(90deg, transparent 0%, var(--primary)/10% 50%, transparent 100%)"
                                (mouseenter)="hoverItem($event)"
                                (mouseleave)="unhoverItem($event)">
                                <fa-icon [icon]="iconProfile"
                                    class="text-2xl p-3"
                                    style="color: var(--primary)"></fa-icon>
                                <a routerLink="/dashboard/profile"
                                    class="text-lg font-medium italic tracking-wide">Profile</a>
                            </li>

                            <!-- Reset Password -->
                            <li
                                class="w-full h-auto p-1 flex justify-start items-center cursor-pointer gap-2 border-b-[1px] transition-all duration-200"
                                style="border-color: var(--border); color: var(--foreground); background: linear-gradient(90deg, transparent 0%, var(--primary)/10% 50%, transparent 100%)"
                                (mouseenter)="hoverItem($event)"
                                (mouseleave)="unhoverItem($event)">
                                <fa-icon [icon]="iconResetPassword"
                                    class="text-2xl p-3"
                                    style="color: var(--primary)"></fa-icon>
                                <a routerLink="/dashboard/reset-password"
                                    class="text-lg font-medium italic tracking-wide">Reset
                                    Password</a>
                            </li>

                            <!-- Logout -->
                            <li
                                class="w-full h-auto p-1 flex justify-start items-center cursor-pointer gap-2 transition-all duration-200"
                                style="color: var(--foreground); background: linear-gradient(90deg, transparent 0%, var(--danger)/10% 50%, transparent 100%)"
                                (mouseenter)="hoverItem($event)"
                                (mouseleave)="unhoverItem($event)">
                                <fa-icon [icon]="iconLogout"
                                    class="text-2xl p-3"
                                    style="color: var(--danger)"></fa-icon>
                                <p
                                    class="text-lg font-medium italic tracking-wide"
                                    (click)="logoutUser()">LOGOUT</p>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>